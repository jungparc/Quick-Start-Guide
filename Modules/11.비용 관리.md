# 개요

이번 학습 모듈에서는 NHN Cloud 콘솔에서 조직의 이용 현황을 확인하고, 예산을 설정하며, 리소스 태그를 생성하고 적용하는 방법을 알아봅니다. 이를 통해 조직의 클라우드 리소스를 효과적으로 관리하고, 비용을 효율적으로 운영할 수 있습니다.

# 학습 목표

이번 학습 모듈에서 배울 내용은 아래와 같습니다.

* **조직 이용 현황 확인**
    * NHN Cloud 콘솔에서 조직의 이용 현황을 확인
    * 전체 조직 및 특정 프로젝트의 이용 금액 조회
    * 개별 리소스의 이용 금액 상세 내역 확인
* **조직 예산 관리**
    * 조직의 예산을 설정하고, 특정 프로젝트 및 서비스예산 적용 방법
    * 예산 초과 알림을 설정
* **리소스 태그 활용**
    * NHN Cloud 콘솔에서 특정 리소스 그룹 관리를 위한 리소스 태그 생성
    * 리소스 태그 적용 및 이용 현황 조회

# 시작하기 전에

이번 학습 모듈을 시작하기 전에 필요한 사항은 다음과 같습니다.

* **표준 인터넷 브라우저**
    * Google Chrome, Microsoft Edge, Firefox, Safari 등의 최신 버전 브라우저가 설치되어 있어야 합니다.
    * 브라우저 설정에서 JavaScript 및 쿠키가 활성화되어 있어야 합니다.
* **인터넷 연결 환경**
    * 안정적인 인터넷 연결이 필요하며, 권장 대역폭은 최소 5Mbps 이상입니다.
    * HTTPS를 통한 안전한 통신이 가능해야 합니다.
* **회원 계정**
    * 결제수단을 등록한 NHN Cloud 계정이 있어야 합니다.
    * NHN Cloud 포털에 로그인 해야 합니다.
* [10-확장성과 성능 최적화](dooray://1387695619080878080/pages/3964687410935532614 "publish") 실습 완료

본 가이드는 [10-확장성과 성능 최적화](dooray://1387695619080878080/pages/3964687410935532614 "publish") 이후 단계부터 시작됩니다.

# 조직의 이용 현황과 예산 관리

## 단계 1. 조직 이용 현황 확인하기

> `MyORG` 조직이 사용한 서비스의 세부 이용 현황을 확인할 수 있습니다.

1. NHN Cloud 콘솔 상단 메뉴에서 실습에 사용할 조직(`MyORG`), 프로젝트(`MyPRJ`), 그리고 `한국(평촌) 리전`을 선택합니다.
1. NHN Cloud 콘솔 상단 메뉴에서 `MyORG`를 클릭합니다.
2. `MyORG` 조직 화면 상단의 **이용 현황** 탭을 클릭합니다.
3. **서비스** 탭에서 조직 전체의 조직 최종 금액을 확인하고, 조직 하위에 속한 `MyPRJ`를 클릭하여 프로젝트 세부 프로젝트 이용 금액을 확인합니다.
4. 각 리소스 항목을 클릭하여 이용 금액의 상세 내역을 확인합니다.

## 단계 2. 조직 예산 관리하기

> `MyORG` 조직의 예산 정보를 추가하고 예산 초과 시 알림을 받도록 설정할 수 있습니다.

1. NHN Cloud 콘솔 상단에 위치한 **조직** 탭에서 `MyORG` 를 클릭합니다.
2. `MyORG` 조직 화면 상단의 **예산 관리** 탭을 클릭합니다.
3. **+ 예산 추가**를 클릭합니다.
4. **예산 추가** 창에서 아래 정보를 입력 후 **예산 추가 완료**를 클릭합니다.
    * 예산 정보
        * 이름: `MyBudget`
        * 예산: `금액`, `10000`
        * 프로젝트: `전체 프로젝트`
        * 서비스: `Compute, Instance 외 7개 (기본값)`
    * 알림 임계치
        * 임계치: `1 %`
        * 임계치 기준: `초과 시 알림`
        * 임계치 기준일: `15일`, 기준일에 이용 현황 알림 수신 받기 **체크 안함**
    * 알림 수신 대상
        * `맴버`, NHN Cloud 회원 사용자 정보로 등록된 사용자의 이메일 확인 후 **Email 체크박스**를 선택합니다.
5. 추가된 예산 목록에서 `MyBudget`의 **예산 및 이용량**을 확인합니다.

!!! tip "알아두기"
    * 예산 알림 발송 기준
        * 예산 알림은 설정된 예산을 초과하거나 지정한 임계치(기준, 기준일)에 맞을 경우, **다음 날 오전 10시에 알림**을 받을 수 있습니다.
    
!!! tip "주의"    
    * 예산 설정 후 확인 사항
        * 예산을 설정한 후 예산 초과 시 서비스가 자동으로 비활성화되거나 차단되지 않습니다. 이는 서비스 이용 중 중단되지 않도록 하기 위함이며 이로 인해 설정된 예산을 초과한 비용이 발생할 수 있습니다. 올바르게 예산을 활용하기위해 적절한 예산 설정과 리소스 관리를 권장합니다.

# 리소스 태그 활용

## 단계 1. 리소스 태그 생성하기

1. NHN Cloud 콘솔 상단 메뉴에서 실습에 사용할 조직(`MyORG`)을 클릭합니다.
2. `MyORG` 조직 대시보드 내에 **조직 서비스 이용 현황**에서 **Resource Watcher**를 클릭합니다.
3. Resource Watcher 화면의 탭 메뉴 중 **리소스 태그** 탭을 클릭합니다.
4. **+ 리소스 태그 생성**을 클릭합니다.
5. **리소스 태그 생성** 화면에서 아래 정보를 설정 후 **추가**를 클릭합니다.
    * 태그 키: `MyInstanceTag`
    * 태그 값: `빈 값`
6. **+ 리소스 태그 생성**을 클릭합니다.
7. **리소스 태그 생성** 화면에서 아래 정보를 설정 후 **추가**를 클릭합니다.
    * 태그 키: `MyStorageTag`
    * 태그 값: `빈 값`
8. `MyInstanceTag` 리소스 태그를 선택 후 오른쪽 **태그 수정**을 클릭합니다.
9. 리소스 태그 수정 창에서 **+ 태그 값 추가**를 클릭한 후 태그 값 입력란에 `webserver`를 입력 후 **저장**을 클릭합니다.
10. **+ 태그 값 추가**를 다시 클릭해 나오는 태그 값 입력란에 `dbserver`를 입력 후 **저장**을 클릭합니다.
11. **확인**을 클릭하여 리소스 태그 수정 창을 닫습니다.
12. `MyStorageTag` 리소스 태그를 선택 후 오른쪽 **태그 수정**을 클릭합니다.
13. 리소스 태그 수정 창에서 **+ 태그 값 추가**를 클릭한 후 태그 값 입력란에 `blockstorage`를 입력 후 **저장**을 클릭합니다.
14. **확인**을 클릭하여 리소스 태그 수정 창을 닫습니다.


## 단계 2. 생성한 리소스 태그 적용하기

> `MyORG` 조직이 사용 중인 인스턴스, 데이터베이스, 블록스토리지 리소스 각각에 리소스 태그를 설정합니다.

1. `MyORG` 조직 대시보드 내에 **조직 서비스 이용 현황**에서 **Resource Watcher**를 클릭합니다.
2. Resource Watcher 화면의 탭 메뉴 중 **리소스** 탭을 클릭합니다.
3. **리소스 명**에 `linux-server-basic`을 입력 후 **검색**을 클릭합니다.
4. 검색 결과 화면에서 **리소스 명**이 `linux-server-basic`인 리소스를 클릭합니다.
5. 하단에 **기본 정보** 분할 창에서 **리소스 태그** 항목의 **설정**을 클릭합니다.
6. **'linux-server-basic' 리소스 태그 설정** 창에서 아래와 같이 설정 후 **확인**을 클릭합니다.
    * 태그 키: `MyInstanceTag`
    * 태그 키: 태그 값: `MyInstanceTag: webserver`
7. **초기화**를 클릭합니다.
8. **리소스 명**에서 `mysql-db-basic`를 입력 후 **검색**을 클릭합니다.
9. 검색 결과 화면에서 **리소스 명**이 `mysql-db-basic` 리소스를 클릭합니다.
10. 하단에 **기본 정보** 분할 창에서 **리소스 태그** 항목의 **설정**을 클릭합니다.
11. `my-sql-basic` 리소스 태그 설정 창에서 아래와 같이 설정 후 **확인**을 클릭합니다.
    * 태그 키: `MyInstanceTag`
    * 태그 키: 태그 값: `MyInstanceTag: dbserver`
12. **초기화**를 클릭합니다.
13. **리소스 유형**에 **전체**로 표기된 드롭다운 메뉴를 클릭 후 블록 스토리지를 입력합니다.
14. 검색된 리소스 유형 중 **블록 스토리지**를 클릭해 체크박스를 선택합니다.
15. **검색**을 클릭합니다.
16. 검색 결과 화면에서 **리소스 명**이 `MyBS` 인 리소스를 클릭합니다.
10. 하단에 **기본 정보** 분할 창에서 **리소스 태그** 항목의 **설정**을 클릭합니다.
18. `MyBS` 리소스 태그 설정 창에서 아래와 같이 설정 후 **확인**을 클릭합니다.
    * 태그 키: `MyStorageTag`
    * 태그 키: 태그 값: `MyStorageTag: blockstorage`

## 단계 3. 리소스 태그로 이용 현황 확인하기

> 리소스 태그를 활용해 `MyORG` 조직이 사용 중인 인스턴스, 데이터베이스, 블록 스토리지 리소스의 세부 이용 현황을 확인합니다.

1. NHN Cloud 콘솔 상단 메뉴에서 실습에 사용할 조직(`MyORG`)를 클릭합니다.
2. `MyORG` 조직 화면에서 **이용 현황** 탭을 클릭합니다.
3. **이용 현황** 화면의 탭 메뉴 중 **리소스** 탭을 클릭합니다.
4. 화면 내에 아래와 같이 설정 후 **검색**을 클릭합니다.
    * 조회 기준
        * 태그 키 선택: `MyInstanceTag`
        * 태그 값 선택: `webserver`
5. 하단에 리소스 태그 기준 이용 금액을 확인합니다.

리소스 태그 이용 현황 기준
        * 리소스 태그를 리소스에 적용하면 적용한 시점부터 사용량과 이용 금액이 별도로 확인할 수 있습니다. 리소스 기준으로 조회되는 이용 금액과 실제 과금되는 금액의 차이가 있을 수 있습니다.
        * 리소스 태그 기준 이용 금액은 리소스 태그를 적용한 다음날 집계 시점부터 확인 가능합니다.

6. 화면 내에 아래와 같이 설정 후 **검색**을 클릭합니다.
    * 조회 기준
        * 태그 키 선택: `MyInstanceTag`
        * 태그 값 선택: `dbserver`
7. 하단에 리소스 태그 기준 이용 금액을 확인합니다.
8. 화면 내에 아래와 같이 설정 후 **검색**을 클릭합니다.
    * 조회 기준
        * 태그 키 선택: `MyStorageTag`
        * 태그 값 선택: `blockstorage`
9. 하단에 리소스 태그 기준 이용 금액을 확인합니다.

# 참고 자료

* [알림 관리](https://docs.nhncloud.com/ko/nhncloud/ko/console-guide/#_33)
* [NHN Cloud 요금](https://www.nhncloud.com/kr/pricing)
* [리소스 태그](https://docs.nhncloud.com/ko/Governance%20&%20Audit/Resource%20Watcher/ko/console-guide/#_2)

# 이전 단계

* [10-확장성과 성능 최적화](dooray://1387695619080878080/pages/3964687410935532614 "publish")

# 다음 단계

* [12-리소스 정리 및 삭제](dooray://1387695619080878080/pages/3964687612311378578 "publish")
